(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5ba074ef"],{"1da1":function(t,e,n){"use strict";n.d(e,"a",function(){return r});n("d3b7");function i(t,e,n,r,a,u,o){try{var c=t[u](o),i=c.value}catch(t){return void n(t)}c.done?e(i):Promise.resolve(i).then(r,a)}function r(c){return function(){var t=this,o=arguments;return new Promise(function(e,n){var r=c.apply(t,o);function a(t){i(r,e,n,a,u,"next",t)}function u(t){i(r,e,n,a,u,"throw",t)}a(void 0)})}}},"6b68":function(t,e,n){"use strict";n.r(e);var r,a=n("1da1"),u=(n("96cf"),n("c4c8")),a={name:"productCate",data:function(){return{cateList:[],listQuery:{pageSize:10,pageNum:1},total:0,parent_id:0}},methods:{getCatetList:(r=Object(a.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.m)(this.listQuery,this.parent_id);case 2:e=t.sent,this.cateList=e.data,this.total=e.total;case 5:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),handleSizeChange:function(t){this.listQuery.pageSize=t,this.listQuery.pageNum=1,this.getCatetList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getCatetList()},goAdd:function(){this.$router.push("/pms/productCateAdd")},showNextLevel:function(t){this.parent_id=t,this.getCatetList()},goParentLevel:function(){this.parent_id=0,this.getCatetList()},delProductCate:function(t){var e=this;this.$confirm("确认删除该品牌信息吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(u.g)({id:t}).then(function(t){"success"==t.type&&(e.$message({type:"success",message:"删除成功",duration:2e3}),e.getAttrList())})}).catch(function(){e.$message({type:"info",message:"已经取消删除",duration:2e3})})},updateCate:function(t){this.$router.push("/pms/updateCate/"+t)}},created:function(){this.getCatetList()},filters:{levelF:function(t){return t?"二级":"一级"}}},n=(n("8764"),n("2877")),a=Object(n.a)(a,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",[r("div",{staticClass:"datalist"},[n._m(0),r("div",{staticClass:"btn-box"},[r("el-button",{staticClass:"addbtn",on:{click:n.goAdd}},[n._v("添加")]),0!=n.parent_id?r("el-button",{staticClass:"addbtn",on:{click:n.goParentLevel}},[n._v("返回上一级")]):n._e()],1)]),r("el-table",{staticStyle:{width:"95%",margin:"auto"},attrs:{data:n.cateList,border:""}},[r("el-table-column",{attrs:{prop:"id",label:"编号"}}),r("el-table-column",{attrs:{prop:"name",label:"类型名称",width:"200%"}}),r("el-table-column",{attrs:{label:"级别"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v(" "+n._s(n._f("levelF")(t.row.level))+" ")]}}])}),r("el-table-column",{attrs:{prop:"product_count",label:"商品数量"}}),r("el-table-column",{attrs:{prop:"product_unit",label:"数量单位"}}),r("el-table-column",{attrs:{label:"是否显示"},scopedSlots:n._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.row.show_status,callback:function(t){n.$set(e.row,"show_status",t)},expression:"scope.row.show_status"}})]}}])}),r("el-table-column",{attrs:{label:"设置"},scopedSlots:n._u([{key:"default",fn:function(e){return[r("button",{staticClass:"setbtn",attrs:{disabled:0!=e.row.level},on:{click:function(t){return n.showNextLevel(e.row.id)}}},[n._v("查看下级")])]}}])}),r("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:n._u([{key:"default",fn:function(e){return[r("button",{staticClass:"delbtn",on:{click:function(t){return n.delProductCate(e.row.id)}}},[n._v("删除")]),r("button",{staticClass:"editbtn",on:{click:function(t){return n.updateCate(e.row.id)}}},[n._v("编辑")])]}}])})],1),r("el-pagination",{staticClass:"page",attrs:{"current-page":n.listQuery.pageNum,"page-sizes":[5,10,15,20],"page-size":n.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)},[function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"left"},[e("i",{staticClass:"iconfont icon-order"}),t._v(" 数据列表 ")])}],!1,null,"dc4dcb2e",null);e.default=a.exports},8764:function(t,e,n){"use strict";n("a489")},a489:function(t,e,n){},c4c8:function(t,e,n){"use strict";n.d(e,"n",function(){return a}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return o}),n.d(e,"l",function(){return c}),n.d(e,"i",function(){return i}),n.d(e,"j",function(){return s}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"t",function(){return h}),n.d(e,"q",function(){return b}),n.d(e,"e",function(){return m}),n.d(e,"g",function(){return _}),n.d(e,"f",function(){return g}),n.d(e,"h",function(){return v}),n.d(e,"r",function(){return C}),n.d(e,"s",function(){return w}),n.d(e,"p",function(){return j}),n.d(e,"u",function(){return O}),n.d(e,"o",function(){return y});var r=n("b775");function a(t){return Object(r.a)({url:"product_list",methods:"get",params:t})}function u(t){return Object(r.a)({url:"get_product_attr",method:"get",params:t})}function o(t,e){return Object(r.a)({url:"get_product_category_list/"+e,method:"get",params:t})}function c(t){return Object(r.a)({url:"get_product_brand_pag",method:"get",params:t})}function i(t){return Object(r.a)({url:"get_product_brand",method:"get",params:t})}function s(t){return Object(r.a)({url:"get_product_category",method:"get",params:t})}function d(t){return Object(r.a)({url:"create_product",method:"post",data:t})}function l(t){return Object(r.a)({url:"create_product_cate",method:"post",data:t})}function p(t){return Object(r.a)({url:"create_product_brand",method:"post",data:t})}function f(t){return Object(r.a)({url:"create_product_attr",method:"post",data:t})}function h(t){return Object(r.a)({url:"update_product",method:"post",data:t})}function b(t){return Object(r.a)({url:"product_one",method:"get",params:t})}function m(t){return Object(r.a)({url:"delete_status",method:"get",params:t})}function _(t){return Object(r.a)({url:"delete_category",method:"post",data:t})}function g(t){return Object(r.a)({url:"delete_product_attr",method:"get",params:t})}function v(t){return Object(r.a)({url:"delete_product_brand",method:"get",params:t})}function C(t){return Object(r.a)({url:"update_product_attr",method:"post",data:t})}function w(t){return Object(r.a)({url:"update_product_cate",method:"post",data:t})}function j(t){return Object(r.a)({url:"product_cate_one",method:"get",params:t})}function O(t){return Object(r.a)({url:"update_product_brand",method:"post",data:t})}function y(t){return Object(r.a)({url:"brand_one",method:"get",params:t})}}}]);